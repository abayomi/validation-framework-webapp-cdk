(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8047:function(e,t,a){Promise.resolve().then(a.bind(a,5951))},5951:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return tr}});var l=a(7437),n=a(8518),i=a.n(n),r=a(8344),s=e=>t=>localStorage.getItem("token")?(0,l.jsx)(e,{...t}):(0,l.jsx)(r.Fg,{to:"/"}),d=s(()=>(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"title is-1",children:"This is the About Page"}),(0,l.jsx)("p",{children:"Test About Page"})]})),o=a(8323),c=a(6886);let u=(0,c.oM)({name:"counter",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1}}}),{increment:m,decrement:j}=u.actions;var b=u.reducer,f=a(2808),h=s(()=>{let e=(0,o.v9)(e=>e.counter.value),t=(0,o.I0)();return(0,l.jsxs)("div",{className:"box",children:[(0,l.jsxs)("p",{className:"count",children:[(0,l.jsx)("span",{children:"Count: "}),e]}),(0,l.jsxs)("div",{className:" btn ",children:[(0,l.jsx)(f.Z,{onClick:()=>t(m()),children:"Add"}),(0,l.jsx)(f.Z,{onClick:()=>t(j()),children:"Subtract"})]})]})}),p=a(6290),x=a(2824),I=a(5331),N=a(2382),v=()=>{let e="token",t=!!localStorage.getItem(e),a=(0,r.s0)(),n=(0,l.jsx)(f.Z,{className:"button is-white",onClick:()=>{localStorage.setItem(e,"some-login-token"),a("/profile/Vijit")},children:"Log in"}),i=(0,l.jsx)(f.Z,{className:"button is-black",onClick:()=>{localStorage.removeItem(e),a("/")},children:"Log out"});return(0,l.jsx)(N.Z,{expand:"lg",className:"bg-body-tertiary",children:(0,l.jsxs)(x.Z,{fluid:!0,children:[(0,l.jsx)(N.Z.Brand,{href:"/",children:"ICON"}),(0,l.jsx)(N.Z.Toggle,{"aria-controls":"navbarScroll"}),(0,l.jsx)(N.Z.Collapse,{id:"navbarScroll",children:(0,l.jsxs)(I.Z,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[(0,l.jsx)(I.Z.Link,{as:p.rU,to:"/",children:"Home"}),(0,l.jsx)(I.Z.Link,{as:p.rU,to:"/profile/Vijit",children:"Profile"}),(0,l.jsx)(I.Z.Link,{as:p.rU,to:"/createmasterobject",children:"Create Object or Field Master"}),(0,l.jsx)(I.Z.Link,{as:p.rU,to:"/validateRecords",children:"Validate Records"})]})}),(0,l.jsx)("div",{className:"buttons",children:t?i:n})]})})},g=s(()=>{let{name:e}=(0,r.UO)();return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"title is-1",children:"This is the Profile Page"}),(0,l.jsxs)("article",{className:"message is-dark",style:{marginTop:40},children:[(0,l.jsx)("div",{className:"message-header",children:(0,l.jsx)("p",{children:e})}),(0,l.jsx)("div",{className:"message-body",children:"Test Profile Page"})]})]})}),y=a(2265),M=a(2020),C=a(3667),Z=a(1595),D=a(6712),F=a(8721),O=a(782),k=a(8785),L=a(2312),S=a(5247),R=a(358),w=a(5694);let E={1:"1 - Regex",2:"2 - Rest API Call",3:"3 - Function Code",4:"4 - Allow blank",5:"5 - Allow NULL"},V={1:"1 - %f: Value is invalid, based on the regular expression.",2:"2 - %f: Value is invalid, based on the API lookup.",3:"3 - %f: Value is invalid, based on the function code validation.",4:"4 - Value can be blank.",5:"5 - Value can be NULL.",6:"6 - %f: Century date must be 19 or 20."},A={1:"1 - Regex",2:"2 - API Parameters",3:"3 - API Id",4:"4 - Function Body",5:"5 - ARG Names",6:"6 - ARG Params"},U=e=>{switch(e){case"1":return["1","6"];case"2":return["2"];case"3":return["3"];case"4":return["4"];case"5":return["5"];default:return[]}},$=e=>{switch(e){case"1":return[{type:"1",value:null}];case"2":return[{type:"2",value:null},{type:"3",value:null}];case"3":return[{type:"4",value:null},{type:"5",value:null},{type:"6",value:null}];default:return[]}};var G=e=>{let{eventkey:t,isUpdate:a,onConditionChange:n,item:i}=e,r=a&&i.id,[s,d]=(0,y.useState)(i||[]);(0,y.useEffect)(()=>{d(i||{})},[i]);let o=e=>{let{name:a,value:l}=e.target,i={...s,value:l};d(i),n(t,i)};return(0,l.jsx)("div",{children:(0,l.jsxs)(R.Z,{eventkey:t,children:[(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"condition_type",children:(0,l.jsx)(Z.Z.Select,{"data-testid":"condition-type-input",name:"condition_type",value:s.type,onChange:o,disabled:!0,children:Object.entries(A).map(e=>{let[t,a]=e;return(0,l.jsx)("option",{value:t,children:a},t)})})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-9",controlId:"condition_value",children:(0,l.jsx)(Z.Z.Control,{as:"textarea",name:"condition_value",rows:1,"data-testid":"condition-type-value",defaultValue:s.value,placeholder:"",onChange:o,disabled:r,required:!0})})]})},t)},_=a(8646),P=a(1432);function T(){let e=(0,_._)(["\nmutation CreateEnterpriseField(\n  $fieldName: String!\n  $fieldDefinition: String!\n  $dialectCode: DialectCodes!\n  $fieldMasterInUseInd: Boolean!\n  $enterpriseFieldInd: Boolean!\n  $rule: FieldMasterRule\n) {\n  CreateEnterpriseField(field: {\n    dialectCode: $dialectCode, \n    enterpriseFieldInd: $enterpriseFieldInd, \n    fieldDefinition: $fieldDefinition, \n    fieldMasterInUseInd: $fieldMasterInUseInd, \n    fieldName: $fieldName\n    rule: $rule\n  }) {\n    fieldMasterId\n    fieldName\n    fieldDefinition\n  }\n}\n"]);return T=function(){return e},e}function q(){let e=(0,_._)(["\nmutation AddRuleToEnterpriseField(\n  $fieldMasterId: ID!\n  $dialectCode: DialectCodes!\n  $validationRuleCode: ID!\n  $validationErrorCode: ID!\n  $mandatoryRuleInd: Boolean!\n  $description: FieldMasterRuleDescription!\n  $ruleGroupNumber: Int!\n  $condition: [FieldMasterRuleCondition!]\n) {\n  AddRuleToEnterpriseField(rule: {\n    fieldMasterId: $fieldMasterId, \n    dialectCode: $dialectCode, \n    validationRuleCode: $validationRuleCode, \n    validationErrorCode: $validationErrorCode, \n    mandatoryRuleInd: $mandatoryRuleInd\n    description: $description\n    ruleGroupNumber: $ruleGroupNumber\n    condition: $condition\n  }) {\n    fieldMasterId\n    fieldName\n    fieldDefinition\n    rules {\n      conditions {\n          id\n          type\n          value\n      }\n      errorCode\n      errorMessage\n      longDescription\n      shortDescription\n      ruleGroupNumber\n      id\n      isMandatory\n      type\n      }\n  }\n}\n"]);return q=function(){return e},e}function B(){let e=(0,_._)(["\nmutation RemoveRuleFromEnterpriseField($field_valid_rule_id: Int!) {\n  RemoveRuleFromEnterpriseField(field_valid_rule_id: $field_valid_rule_id) {\n    status\n  }\n}\n"]);return B=function(){return e},e}let X=(0,P.Ps)(T()),H=(0,P.Ps)(q()),z=(0,P.Ps)(B()),K={us_en:"US English",ca_en:"Canadian English",ca_fr:"Canadian French",gb_en:"British English",mx_es:"Mexican Spanish"},Q="us_en";function W(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(e)&&0!==e.length?e[t]:a}function J(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||"string"!=typeof t)return a;let l=t.split("."),n=e;for(let e of l){if(!(n&&n.hasOwnProperty(e)))return a;n=n[e]}return n}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e?e.reduce((e,a)=>{if(t){if(!a[t])return e;if(!e.find(e=>e[t]===a[t]))return e.concat([a])}else if(!e.find(e=>e===a))return e.concat([a]);return e},[]).sort((e,a)=>t?a[t]-e[t]:a-e):[]}function ee(e){let{eventkey:t,deleteOnClick:a}=e,n=(0,S.k)(t);return(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 p-2",children:[(0,l.jsx)("div",{className:"d-flex align-items-center col-10",children:(0,l.jsxs)("span",{onClick:n,style:{cursor:"pointer"},className:"col-8",children:["Rule - ","0"==t?"New":t]})}),(0,l.jsx)(f.Z,{variant:"danger",size:"sm",onClick:e=>a(e,t),children:"Delete"})]})}var et=e=>{var t,a,n,i;let{eventkey:s,isUpdate:d,deleteOnClick:o,item:c,fieldMasterId:u=0,dialectCode:m,ruleGroupNumberList:j}=e,b=d&&c.id>0,h=(0,r.s0)(),[p,x]=(0,y.useState)([]),[I,N]=(0,y.useState)([]),[v,g]=(0,y.useState)((null==c?void 0:c.ruleGroupNumber)||null),[M,{data:C,loading:S,error:A}]=(0,w.D)(H);(0,y.useEffect)(()=>{var e;x({...c,id:null==c?void 0:c.id,conditions:(null==c?void 0:c.conditions)||[]}),g(null!==(e=c.ruleGroupNumber)&&void 0!==e?e:null),(null==c?void 0:c.conditions)&&N(Y(c.conditions))},[c]),(0,y.useEffect)(()=>{if(C){let e=C.AddRuleToEnterpriseField[0];e.dialectCode=m,h("/updatemasterobject/field",{state:{updateFieldData:e}})}A&&alert(A)},[C,A]);let _=e=>{let{name:t}=e.target,a="checkbox"===e.target.type?e.target.checked:e.target.value,l={...p,[t]:a};if("type"===t){let e=U(a),t=$(a);x(l={...l,errorCode:e[0],conditions:t}),N(t)}else x(l)},P=async e=>{e.preventDefault();try{var t;let e={fieldMasterId:u,dialectCode:m,validationRuleCode:p.type,validationErrorCode:p.errorCode,mandatoryRuleInd:null!==(t=p.isMandatory)&&void 0!==t&&t,description:{shortDescription:p.shortDescription,longDescription:p.longDescription},ruleGroupNumber:v};p.conditions&&p.conditions.length>0&&(e.condition=p.conditions.map(e=>({ruleConditionTypeCode:e.type,ruleConditionValue:e.value}))),console.log(e),await M({variables:e})}catch(e){alert(e)}},T=(e,t)=>{let a=[...p.conditions];a[e]=t,x({...p,conditions:a})};return(0,l.jsx)("div",{children:(0,l.jsxs)(F.Z.Item,{eventkey:s,children:[(0,l.jsx)(ee,{eventkey:s,deleteOnClick:o}),(0,l.jsx)(F.Z.Collapse,{eventKey:s,children:(0,l.jsx)("div",{className:"p-2",children:(0,l.jsxs)(Z.Z,{onSubmit:P,"data-testid":"rule-form-element",children:[(0,l.jsxs)(R.Z,{children:[(0,l.jsxs)(Z.Z.Group,{as:D.Z,xs:3,className:"mb-3",controlId:"validationRuleCode",children:[(0,l.jsx)(Z.Z.Label,{children:"Validation Code"}),(0,l.jsxs)(Z.Z.Select,{"aria-label":"Validation code",name:"type",value:p.type,onChange:_,disabled:b,required:!0,children:[(0,l.jsx)("option",{}),Object.entries(E).map(e=>{let[t,a]=e;return(0,l.jsx)("option",{value:t,children:a},t)})]})]}),(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3",xs:6,controlId:"errorCode",children:[(0,l.jsx)(Z.Z.Label,{children:"Validation Error Code"}),(0,l.jsx)(Z.Z.Select,{"aria-label":"Validation errorMessage",name:"errorCode",value:p.errorCode,onChange:_,disabled:b,required:!0,children:U(p.type).map(e=>(0,l.jsx)("option",{value:e,children:V[e]},e))})]}),(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3",controlId:"ruleGroupNumber",children:[(0,l.jsx)(Z.Z.Label,{children:"Rule Group Number"}),(0,l.jsxs)(L.Z,{className:"mb-3",children:[(0,l.jsx)(Z.Z.Control,{type:"text",name:"ruleGroupNumber",value:null!=v?v:"",placeholder:"",onChange:e=>g(e.target.value),disabled:b,required:!0}),!b&&j.length>0&&(0,l.jsx)(k.Z,{variant:"outline-secondary",title:"",onSelect:e=>g(e),"data-testid":"input-group-dropdown-1",children:j.map((e,t)=>(0,l.jsx)(O.Z.Item,{eventKey:e,children:e},e))})]})]})]}),(0,l.jsxs)(R.Z,{children:[(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-3",as:D.Z,controlId:"dialectCode",children:[(0,l.jsx)(Z.Z.Label,{children:"Dialect code"}),(0,l.jsx)(Z.Z.Select,{"aria-label":"Dialect code",value:null!==(t=p.dialectCode)&&void 0!==t?t:m,disabled:!0,required:!0,children:Object.entries(K).map(e=>{let[t,a]=e;return(0,l.jsx)("option",{value:t,children:a},t)})})]}),(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3 col-2",controlId:"isMandatory",children:[(0,l.jsx)(Z.Z.Label,{children:"Mandatory Rule"}),(0,l.jsx)(Z.Z.Check,{type:"checkbox",id:"isMandatory","aria-labelledby":"mandatory-rule-label",children:(0,l.jsx)(Z.Z.Check.Input,{type:"checkbox",name:"isMandatory",className:"custom-check-border",onChange:_,checked:!0===(null!==(a=p.isMandatory)&&void 0!==a&&a),disabled:b})})]}),(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3",xs:3,controlId:"shortDescription",children:[(0,l.jsx)(Z.Z.Label,{children:"Short Description"}),(0,l.jsx)(Z.Z.Control,{type:"text",name:"shortDescription",value:null!==(n=p.shortDescription)&&void 0!==n?n:"",placeholder:"",onChange:_,disabled:b,required:!0})]}),(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3",controlId:"longDescription",children:[(0,l.jsx)(Z.Z.Label,{children:"Long Description"}),(0,l.jsx)(Z.Z.Control,{type:"text",name:"longDescription",value:null!==(i=p.longDescription)&&void 0!==i?i:"",placeholder:"",onChange:_,disabled:b})]})]}),I.length>0&&(0,l.jsx)("h4",{className:"title is-1",children:"Conditions"}),I.map((e,t)=>(0,l.jsx)(G,{isUpdate:d,eventkey:t,onConditionChange:T,item:e},t)),(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(f.Z,{type:"submit",className:"ms-3 col-2",hidden:b,children:"Submit"})})]})})})]})},s)},ea=e=>{var t,a;let{location:n,confirmFunction:i=window.confirm}=e,s=!("/updatemasterobject/object"!==n.pathname&&"/updatemasterobject/field"!==n.pathname),d=(0,r.s0)(),[o,c]=(0,y.useState)(Q),u={fieldMasterId:"",enterpriseFieldInd:!1,fieldMasterInUseInd:!0,fieldName:"",fieldDefinition:"",dialectCode:Q},[m,j]=(0,y.useState)(u),[b,h]=(0,y.useState)([]),[p,x]=(0,y.useState)([]),[I,N]=(0,y.useState)(!1),[v,g]=(0,y.useState)(null),[M,C]=(0,y.useState)("0"),[O,{data:k,loading:L,error:S}]=(0,w.D)(X),[R,{data:E,loading:V,error:A}]=(0,w.D)(z);(0,y.useEffect)(()=>{if(s&&n.state){N(!1);let e=n.state.updateFieldData;if(!e)return;if(j(e),c(e.dialectCode),e.rules){let t=Y(e.rules);h(t),x(Y(t.map(e=>e.ruleGroupNumber),null))}else h([]),x([])}s||(c(Q),j(u),h([]))},[s,n.state]),(0,y.useEffect)(()=>{if(k){alert("Field Master added successfully!");let e=k.CreateEnterpriseField[0];d("/updatemasterobject/field",{state:{updateFieldData:{fieldMasterId:e.fieldMasterId,fieldName:e.fieldName,enterpriseFieldInd:m.enterpriseFieldInd,fieldMasterInUseInd:m.fieldMasterInUseInd,fieldDefinition:e.fieldDefinition,dialectCode:o,rules:[]}}})}},[k]),(0,y.useEffect)(()=>{if(E){let{RemoveRuleFromEnterpriseField:e}=E,t=v;i!==window.confirm&&(t=1),e.status&&t&&(alert("Deleted successfully: ".concat(t)),h(b.filter(e=>e.id!==t)),g(null))}A&&alert(A)},[E,A]);let U=async(e,t)=>{if(console.log(t),e.stopPropagation(),t>0){if(!i("Are you sure you want to delete this rule?"))return;let e={field_valid_rule_id:t};console.log(e),g(t),await R({variables:e})}h(b.filter(e=>e.id!==t)),N(!1)},$=e=>{j({...m,[e.target.id]:"checkbox"===e.target.type?e.target.checked:e.target.value})},G=async e=>{e.preventDefault();try{let e={dialectCode:m.dialectCode,fieldName:m.fieldName,fieldDefinition:m.fieldDefinition,enterpriseFieldInd:m.enterpriseFieldInd,fieldMasterInUseInd:m.fieldMasterInUseInd};console.log(e),await O({variables:e})}catch(e){console.error("Error submitting form:",e)}};return(0,l.jsxs)("div",{children:[s?(0,l.jsx)("h2",{className:"title is-1",children:"Update Field Master"}):(0,l.jsx)("h2",{className:"title is-1",children:"Create Field Master"}),(0,l.jsxs)(Z.Z,{onSubmit:G,children:[(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-3",as:D.Z,controlId:"fieldMasterId",children:[(0,l.jsx)(Z.Z.Label,{children:"Field Master ID"}),(0,l.jsx)(Z.Z.Control,{type:"text",placeholder:"",value:m.fieldMasterId,disabled:!0})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-3",as:D.Z,controlId:"dialectCode",children:[(0,l.jsx)(Z.Z.Label,{children:"Dialect Code"}),(0,l.jsxs)(Z.Z.Select,{"aria-label":"Dialect code",value:m.dialectCode,onChange:$,disabled:s,required:!0,children:[(0,l.jsx)("option",{value:""}),Object.entries(K).map(e=>{let[t,a]=e;return(0,l.jsx)("option",{value:t,children:a},t)})]})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-10",as:D.Z,controlId:"fieldName",children:[(0,l.jsx)(Z.Z.Label,{children:"Field Name"}),(0,l.jsx)(Z.Z.Control,{type:"text",placeholder:"",value:m.fieldName,onChange:$,disabled:s,required:!0})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-10",as:D.Z,controlId:"fieldDefinition",children:[(0,l.jsx)(Z.Z.Label,{children:"Field Definition"}),(0,l.jsx)(Z.Z.Control,{as:"textarea",rows:2,placeholder:"",value:m.fieldDefinition,onChange:$,disabled:s,required:!0})]}),(0,l.jsxs)(Z.Z.Check,{className:"mb-3 col-10",id:"enterpriseFieldInd",children:[(0,l.jsx)(Z.Z.Check.Input,{type:"checkbox",className:"custom-check-border",checked:!0===(null!==(t=m.enterpriseFieldInd)&&void 0!==t&&t),onChange:$,disabled:s}),(0,l.jsx)(Z.Z.Check.Label,{children:"Enterprise Field Indicator"})]}),(0,l.jsxs)(Z.Z.Check,{className:"mb-3 col-10",id:"fieldMasterInUseInd",children:[(0,l.jsx)(Z.Z.Check.Input,{type:"checkbox",className:"custom-check-border",checked:!0===(null!==(a=m.fieldMasterInUseInd)&&void 0!==a&&a),onChange:$,disabled:s}),(0,l.jsx)(Z.Z.Check.Label,{children:"Field Master In-Use Indicator"})]}),!s&&(0,l.jsx)(f.Z,{variant:"primary",type:"submit",children:"Submit"})]}),s&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(f.Z,{variant:"info",size:"sm",onClick:()=>{N(!0),C(0),h(e=>[...e,{id:0}])},disabled:I,children:"Add Rules"}),(0,l.jsx)(f.Z,{variant:"secondary",size:"sm",onClick:()=>{d("/",{state:{tabKey:"viewFieldMaster"}})},className:"ms-2",children:"Back"})]}),(0,l.jsx)(F.Z,{className:"mb-3",defaultActiveKey:M,alwaysOpen:!0,flush:!0,children:b.map((e,t)=>{var a,n;return(0,l.jsx)(et,{eventkey:null!==(a=e.id)&&void 0!==a?a:"0",isUpdate:s,deleteOnClick:U,item:e,fieldMasterId:m.fieldMasterId,dialectCode:o,ruleGroupNumberList:p},null!==(n=e.id)&&void 0!==n?n:"0")})}),L&&(0,l.jsx)("p",{children:"Submitting..."}),S&&(0,l.jsxs)("p",{children:["Error: ",S.message]})]})},el=a(9120);function en(){let e=(0,_._)(["\n    query MyQuery($dialectCode: DialectCodes!) {\n      FetchObjectMasterList(dialectCode: $dialectCode) {\n        cliRelRequiredInd\n        objMasterInUseInd\n        objectLabelName\n        objectMasterId\n        objectName\n      }\n    }\n  "]);return en=function(){return e},e}function ei(){let e=(0,_._)(["\n    query MyQuery($dialectCode: DialectCodes!, $objectLabelName: String!) {\n      FetchObjectMetaDataByLabel(objectLabelName: $objectLabelName, dialectCode: $dialectCode) {\n        fields {\n          rules {\n            conditions {\n              id\n              longDescription\n              shortDescription\n              type\n              value\n            }\n            errorCode\n            errorMessage\n            id\n            isMandatory\n            ruleGroupNumber\n            longDescription\n            shortDescription\n            type\n          }\n          enterpriseFieldInd\n          fieldMasterDefinition\n          fieldMasterId\n          fieldMasterName\n          fieldName\n          fieldXrefId\n        }\n        objMasterInUseInd\n        objectLabelName\n        objectMasterId\n        objectName\n      }\n    }\n  "]);return ei=function(){return e},e}function er(){let e=(0,_._)(["\n    mutation MyMutation(\n      $dialectCode: DialectCodes!\n      $objectDefinition: String\n      $objectLabelName: String!\n      $objectName: String!\n      $objectField: [ObjectFieldXref!]\n    ) {\n      CreateValidationObject(object: {\n        objectInUseInd: true, \n        dialectCode: $dialectCode, \n        objectDefinition: $objectDefinition,\n        objectLabelName: $objectLabelName,\n        objectName: $objectName,\n        objectField: $objectField\n      }) {\n        fields {\n          enterpriseFieldInd\n          fieldMasterDefinition\n          fieldMasterId\n          fieldMasterName\n          fieldName\n          rules {\n            errorCode\n            errorMessage\n            id\n            isMandatory\n            longDescription\n            shortDescription\n            type\n          }\n          fieldXrefId\n        }\n        objMasterInUseInd\n        objectLabelName\n        objectMasterId\n        objectName\n      }\n    }\n  "]);return er=function(){return e},e}function es(){let e=(0,_._)(["\n    mutation MyMutation($field: DeletionObjectFilter!) {\n      DeleteValidationObject(field: $field) {\n        objectLabelName\n        objectMasterId\n        objectMasterInUseIndicator\n      }\n    }\n  "]);return es=function(){return e},e}function ed(){let e=(0,_._)(["\n    mutation MyMutation($removeValidations: [ObjectFieldValidation!]!) {\n      RemoveValidationFromObjectField(\n        rules: $removeValidations\n      ) {\n        objectFieldXrefId\n        fieldValidRuleId\n        validFromDateTime\n        validToDateTime\n      }\n    }\n  "]);return ed=function(){return e},e}function eo(){let e=(0,_._)(["\n    mutation MyMutation($addValidations: [ObjectFieldValidation!]!) {\n      AddValidationToObjectField(\n        rules: $addValidations\n      ) {\n        objectFieldXrefId\n        fieldValidRuleId\n        validFromDateTime\n        validToDateTime\n      }\n  }\n  "]);return eo=function(){return e},e}function ec(){let e=(0,_._)(["\n    mutation MyMutation($addFields: [ObjectFieldXrefRecord]!) {\n      AddFieldToObject(\n        fields: $addFields\n      ) {\n        objectFieldXrefId\n        objectMasterId\n        fieldMasterId      \n      }\n  }\n  "]);return ec=function(){return e},e}function eu(){let e=(0,_._)(["\n    mutation MyMutation($xrefIds: [ID!]!) {\n        RemoveFieldFromObject(objectFieldXrefIds: $xrefIds) {\n        fieldMasterId\n        objectFieldXrefId\n        objectMasterId\n      }\n    }\n  "]);return eu=function(){return e},e}function em(){let e=(0,_._)(["\n    mutation MyMutation($addField: ValidationObjectInUseInd!) {\n      UpdateValidationObjectInUseInd(field: $addField) {\n        objectMasterId\n        objectMasterInUseIndicator\n      }\n    }\n  "]);return em=function(){return e},e}function ej(){let e=(0,_._)(["\n    mutation MyMutation($addField: ValidationObjectName!) {\n      UpdateValidationObjectName(field: $addField) {\n        objectDefinition\n        objectMasterId\n        objectName\n      }\n    }\n  "]);return ej=function(){return e},e}let eb={FetchObjectMasterList:(0,P.Ps)(en()),FetchObjectMetaDataByLabel:(0,P.Ps)(ei()),CreateValidationObject:(0,P.Ps)(er()),DeleteValidationObject:(0,P.Ps)(es()),RemoveValidationFromObjectField:(0,P.Ps)(ed()),AddValidationToObjectField:(0,P.Ps)(eo()),AddFieldToObject:(0,P.Ps)(ec()),RemoveFieldFromObject:(0,P.Ps)(eu()),UpdateValidationObjectInUseInd:(0,P.Ps)(em()),UpdateValidationObjectName:(0,P.Ps)(ej())},ef={};function eh(){let e=(0,_._)(["\nquery MyQuery($dialectCode: DialectCodes!) {\n  FetchFieldMetaData(dialectCode: $dialectCode) {\n    fieldName\n    fieldMasterId\n    fieldMasterInUseInd\n    fieldDefinition\n    enterpriseFieldInd\n    rules {\n      id\n      isMandatory\n      ruleGroupNumber\n      longDescription\n      shortDescription\n      type\n      errorMessage\n      errorCode\n      conditions {\n        id\n        longDescription\n        shortDescription\n        type\n        value\n      }\n    }\n  }\n}\n"]);return eh=function(){return e},e}ef.isArray=function(e){return e instanceof Array},ef.isEmptyObject=function(e){return!(e instanceof Object)||0===Object.keys(e).length},ef.isObject=function(e){return null!==e&&"object"==typeof e},ef.deepCopy=function(e){return JSON.parse(JSON.stringify(e))};let ep=(0,P.Ps)(eh()),ex={};ex.isEmpty=function(e){return null==e||"string"==typeof e&&""===e.trim()},ex.isNotEmpty=function(e){return!this.isEmpty(e)};let eI=y.forwardRef((e,t)=>{let{children:a,style:n,className:i,"aria-labelledby":r}=e,[s,d]=(0,y.useState)("");return(0,l.jsxs)("div",{ref:t,style:n,className:i,"aria-labelledby":r,children:[(0,l.jsx)(Z.Z.Control,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:e=>d(e.target.value),value:s}),(0,l.jsx)("ul",{className:"list-unstyled",children:y.Children.toArray(a).filter(e=>{let t=e.props.children.toLowerCase().includes(s.toLowerCase());return""===s||t})})]})});eI.displayName="CustomMenu";var eN=e=>{let{optionList:t,onDropDownItemClick:a,buttonName:n="",customizeLabel:i=null}=e,r=t.map(e=>(0,l.jsx)(O.Z.Item,{eventKey:e.key,onClick:()=>a(e),children:i?i(e):e.value},e.key));return(0,l.jsxs)(O.Z,{className:"ps-0",children:[(0,l.jsx)(O.Z.Toggle,{id:"dropdown-custom-components",children:n}),(0,l.jsx)(O.Z.Menu,{as:eI,children:r})]})},ev=a(8590);function eg(){return{id:(0,ev.Z)(),objectFieldName:"",fieldMasterName:"",fieldMasterId:"0",fieldXrefId:"0",rules:[]}}function ey(e,t,a){let l=t.fieldItems.map(e=>e.id===a.id?{...e,...a}:e);e({...t,fieldItems:l})}function eM(e){let t=[];return e&&0!==e.length&&e.forEach(e=>{t.push({id:e.id,ruleGroupNumber:e.ruleGroupNumber,longDescription:e.longDescription,shortDescription:e.shortDescription,isMandatory:e.isMandatory})}),t}function eC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return{objectMasterId:"",objectName:"",objectDef:"",labelName:"",objMasterInUseInd:!0,fieldItems:[eg()]};let t=e=>{let t=[];return e.forEach(e=>{t.push({id:e.id,ruleGroupNumber:e.ruleGroupNumber,longDescription:e.longDescription,shortDescription:e.shortDescription,isMandatory:e.isMandatory})}),t};return{objectMasterId:e.objectMasterId,objectName:e.objectName,objectDef:J(e,"objectDefinition","The API does not return this value."),labelName:e.objectLabelName,objMasterInUseInd:e.objMasterInUseInd,fieldItems:e.fields.map(e=>({id:(0,ev.Z)(),objectFieldName:e.fieldName,fieldMasterName:e.fieldMasterName,fieldMasterId:e.fieldMasterId,fieldXrefId:e.fieldXrefId,rules:t(e.rules)}))}}function eZ(e,t){let a=[],l=e.objectName!==t.objectName,n=e.objectDef!==t.objectDef;(l||n)&&a.push({apiName:"UpdateValidationObjectName",variables:{addField:{dialectCode:Q,objectDefinition:e.objectDef,objectName:e.objectName,objectMasterId:e.objectMasterId}}}),e.objMasterInUseInd!==t.objMasterInUseInd&&a.push({apiName:"UpdateValidationObjectInUseInd",variables:{addField:{objectInUseInd:e.objMasterInUseInd,objectMasterId:e.objectMasterId}}});let i=e.fieldItems.map(e=>e.id),r=t.fieldItems.filter(e=>!1===i.includes(e.id)).map(e=>e.fieldXrefId);r.length&&a.push({apiName:"RemoveFieldFromObject",variables:{xrefIds:r}});let s=t.fieldItems.map(e=>e.id),d=e.fieldItems.filter(e=>!1===s.includes(e.id));d.length>0&&a.push({apiName:"AddFieldToObject",variables:{addFields:d.map(t=>({fieldMasterId:t.fieldMasterId,objectFieldName:t.objectFieldName,objectMasterId:e.objectMasterId}))},extraData:{rulesToBeAdded:d.map(e=>({fieldMasterId:e.fieldMasterId,rules:e.rules}))}});let o=[],c=[];return e.fieldItems.filter(e=>s.includes(e.id)).forEach(e=>{let a=function(e,t){let a={addedRules:[],removedRules:[]},l=t.find(t=>t.id===e.id);if(!l)return a;let n=e=>e.map(e=>e.id),i=n(l.rules);e.rules.forEach(t=>{!1===i.includes(t.id)&&a.addedRules.push({fieldMasterId:e.fieldMasterId,rule:t})});let r=n(e.rules);return l.rules.forEach(t=>{!1===r.includes(t.id)&&a.removedRules.push({fieldMasterId:e.fieldMasterId,rule:t})}),a}(e,t.fieldItems);a.addedRules.forEach(t=>{o.push({fieldValidRuleId:t.rule.id,objectFieldXrefId:e.fieldXrefId})}),a.removedRules.forEach(t=>{c.push({fieldValidRuleId:t.rule.id,objectFieldXrefId:e.fieldXrefId})})}),o.length&&a.push({apiName:"AddValidationToObjectField",variables:{addValidations:o}}),c.length&&a.push({apiName:"RemoveValidationFromObjectField",variables:{removeValidations:c}}),a}let eD={};eD.runMutationQuery=async function(e,t){let a={};for(let l of e){let e=t[l.apiName].mutationHandler;a[l.apiName]=await e({variables:l.variables}),console.log("queryResponseList",JSON.stringify(a))}return a},eD.getAddedObjectFieldList=function(e){let t=[];return Object.entries(e).forEach(e=>{let[a,l]=e;"AddFieldToObject"===a&&l.data.AddFieldToObject.forEach(e=>{t.push({objectFieldXrefId:e.objectFieldXrefId,objectMasterId:e.objectMasterId,fieldMasterId:e.fieldMasterId})})}),t},eD.getValidationsToBeAdded=function(e,t){let a=[];return e.forEach(e=>{let l=function(e,t){let a=e.find(e=>"AddFieldToObject"===e.apiName);if(!a)return[];let l=a.extraData.rulesToBeAdded;if(!ef.isArray(l))return[];let n=l.find(e=>e.fieldMasterId==t);return n?Object.entries(n.rules).map(e=>{let[t,a]=e;return a}):[]}(t,e.fieldMasterId);0!==l.length&&l.forEach(t=>{a.push({objectFieldXrefId:e.objectFieldXrefId,fieldValidRuleId:t.id})})}),a};var eF=e=>{var t;let a;let{item:n,onInputChangeHandler:r,onDeleteHandler:s,onDropDownItemClick:d,fieldMasterList:o,fieldRuleCheckboxCallback:c}=e,{id:u,objectFieldName:m,fieldMasterName:j,fieldMasterId:b,rules:h}=n,p=(t=eM(function(e,t){let a=e.find(e=>e.fieldMasterId==t);return a?a.rules:[]}(o,b)),a={},Object.entries(t).forEach(e=>{let[t,l]=e;ef.isArray(a[l.ruleGroupNumber])||(a[l.ruleGroupNumber]=[]),a[l.ruleGroupNumber].push(l)}),a);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"objectFieldName",children:(0,l.jsx)(Z.Z.Control,{type:"text",name:"fields-objfieldname-".concat(u),required:!0,value:m,onChange:r})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"fieldMasterName",children:(0,l.jsx)(Z.Z.Control,{type:"text",value:j,disabled:!0})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-2 p-0",controlId:"fieldMasterNameDropdownMenu",children:(0,l.jsx)(eN,{buttonName:"Choose",optionList:o.map(e=>({key:e.fieldMasterId,value:e.fieldName,definition:e.fieldDefinition,rules:e.rules})),onDropDownItemClick:d,customizeLabel:e=>"".concat(e.value," - (").concat(e.definition,")")})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-4 p-0",children:(0,l.jsx)(f.Z,{className:"mb-3",variant:"danger",onClick:s,children:"Delete"})})]}),(0,l.jsx)(R.Z,{children:(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-7 offset-0",children:ef.isArray(h)&&h.length>0&&function(e,t,a,n,r){if(ef.isEmptyObject(t))return(0,l.jsx)(l.Fragment,{});let s=Object.entries(t).map(e=>{let[t,a]=e;return a.id}),d=e=>e.map(e=>(0,l.jsxs)("li",{children:[(0,l.jsx)("input",{type:"checkbox",name:"fieldrule-".concat(e.id),className:e.isMandatory?i()["disabled-checkbox"]:"",value:e.id,checked:s.includes(e.id),disabled:e.isMandatory,onChange:()=>n(r,e)}),"\xa0 Description: ",(0,l.jsx)("b",{children:ex.isNotEmpty(e.longDescription)?e.longDescription:ex.isNotEmpty(e.shortDescription)?e.shortDescription:"N/A"})]},"li-".concat(e.id))),o=Object.entries(e).map(e=>{let[t,a]=e;return(0,l.jsxs)(R.Z,{children:[" ",(0,l.jsxs)(D.Z,{className:"col-3",children:["Group Number: ",(0,l.jsx)("b",{children:t})]}),(0,l.jsx)(D.Z,{className:"col-9",children:(0,l.jsx)("ul",{className:"list-unstyled",children:d(a)})})]},"div-".concat(t))});return(0,l.jsx)(F.Z,{className:"mb-5",children:(0,l.jsxs)(F.Z.Item,{eventKey:"0",children:[(0,l.jsxs)(F.Z.Header,{children:["Rules for field master: \xa0",(0,l.jsx)("b",{children:a})]}),(0,l.jsx)(F.Z.Body,{children:o})]})})}(p,h,j,(e,t)=>{c(e,b,t)},u)})})]})},eO=()=>{let{objLabelName:e}=(0,r.UO)(),t=(0,r.s0)(),a=void 0!==e,n=eC(null),[i,s]=(0,y.useState)(n),[d,o]=(0,y.useState)(ef.deepCopy(i)),[c,u]=(0,y.useState)([]);!function(){let[e,{data:t,loading:a,error:l}]=(0,w.D)(eb.UpdateValidationObjectName),[n,{data:i,loading:r,error:s}]=(0,w.D)(eb.UpdateValidationObjectInUseInd),[d,{data:o,loading:c,error:u}]=(0,w.D)(eb.RemoveFieldFromObject),[m,{data:j,loading:b,error:f}]=(0,w.D)(eb.AddFieldToObject),[h,{data:p,loading:x,error:I}]=(0,w.D)(eb.AddValidationToObjectField),[N,{data:v,loading:g,error:y}]=(0,w.D)(eb.RemoveValidationFromObjectField)}();let m=()=>{t("/")},j=(0,el.aM)(ep,{variables:{dialectCode:Q}}),b=e=>{if("checkbox"===e.target.type){let e=!i.objMasterInUseInd;s({...i,objMasterInUseInd:e});return}if("text"===e.target.type){let t=e.target.name;t.startsWith("fields-")?ey(s,i,{id:t.replace("fields-objfieldname-",""),objectFieldName:e.target.value}):s({...i,[t]:e.target.value})}},[h,p]=(0,w.D)(eb.CreateValidationObject),x=async e=>{e.preventDefault(),console.log("submit me",JSON.stringify({dialectCode:Q,objectDefinition:i.objectDef,objectLabelName:i.labelName,objectName:i.objectName,objectField:i.fieldItems.map(e=>({fieldMasterId:e.fieldMasterId,objectFieldName:e.objectFieldName,fieldValidation:e.rules.map(e=>({fieldValidRuleId:e.id}))}))}))},I=async e=>{e.preventDefault();let t=eZ(i,d);0===t.length&&console.log("The user made no changes, no API call needed."),console.log("updated---apisToBeCalledFirstGroup",JSON.stringify(t))},N=()=>{s(n),o(ef.deepCopy(n))},v=(0,el.aM)(eb.FetchObjectMetaDataByLabel,{variables:{objectLabelName:e,dialectCode:Q},skip:!1===a});return(0,y.useEffect)(()=>{v.refetch()},[e]),(0,y.useEffect)(()=>{if(a){if(v.error&&console.log("Error from GraphQL API: ",v.error.message),v.data){let e=eC(v.data.FetchObjectMetaDataByLabel[0]);s(e),o(ef.deepCopy(e))}}else N()},[a,v,s,o]),(0,y.useEffect)(()=>{p.error&&console.log("Failed to save Object Master.",p.error.message),p.data&&m()},[p]),(0,y.useEffect)(()=>{j.error&&console.error("Failed to obtain the Object Master list: ",j.error),j.data&&u(j.data.FetchFieldMetaData)},[j]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"title is-1",children:a?"Update Object Master":"Create Object Master"}),(0,l.jsxs)(Z.Z,{onSubmit:a?I:x,children:[(0,l.jsxs)(R.Z,{children:[(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-4",controlId:"objectName",children:[(0,l.jsxs)(Z.Z.Label,{children:["Object Name ",(0,l.jsx)("b",{children:"*"})]}),(0,l.jsx)(Z.Z.Control,{type:"text",name:"objectName",required:!0,value:i.objectName,onChange:b})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-4",controlId:"objMasterInUseInd",children:[(0,l.jsxs)(Z.Z.Label,{children:["In Use Indicator ",(0,l.jsx)("b",{children:"*"})]}),(0,l.jsx)(Z.Z.Check,{type:"checkbox",name:"objMasterInUseInd",label:"Check here to mark Object Master as 'In Use'",className:"mt-2",checked:i.objMasterInUseInd,onChange:b})]})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-4",controlId:"objectDefinition",children:[(0,l.jsxs)(Z.Z.Label,{children:["Object Definition ",(0,l.jsx)("b",{children:"*"})]}),(0,l.jsx)(Z.Z.Control,{type:"text",name:"objectDef",required:!0,value:i.objectDef,onChange:b})]}),(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-4",controlId:"labelName",children:[(0,l.jsxs)(Z.Z.Label,{children:["Label Name ",!a&&(0,l.jsx)("b",{children:"*"})]}),(0,l.jsx)(Z.Z.Control,{type:"text",name:"labelName",value:i.labelName,onChange:b,disabled:a})]}),function(){let e=e=>{let t=i.fieldItems.filter(t=>e!==t.id);s({...i,fieldItems:t})},t=e=>e.filter(e=>e.isMandatory),a=e=>function(a){ey(s,i,{id:e,fieldMasterName:a.value,fieldMasterId:"".concat(a.key),fieldXrefId:"0",rules:t(eM(a.rules))})},n=(e,t,a)=>{let l=ef.deepCopy(i),n=l.fieldItems.find(a=>a.fieldMasterId===t&&a.id===e);n&&(n.rules.some(e=>e.id===a.id)?n.rules=n.rules.filter(e=>e.id!==a.id):n.rules=[...n.rules,a],l.fieldItems=l.fieldItems.map(e=>e.id===n.id?n:e),s(l))},r=i.fieldItems.map(t=>(0,l.jsx)(eF,{item:t,onInputChangeHandler:b,onDeleteHandler:()=>e(t.id),onDropDownItemClick:a(t.id),fieldMasterList:c,fieldRuleCheckboxCallback:n},t.id));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{className:"mb-3",variant:"info",onClick:()=>{let e=[...i.fieldItems,eg()];s({...i,fieldItems:e})},children:"Add more object fields"}),(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"objectFieldName",children:(0,l.jsxs)(Z.Z.Label,{children:["Object Field Name ",(0,l.jsx)("b",{children:"*"})]})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"fieldMasterName",children:(0,l.jsxs)(Z.Z.Label,{children:["Field Master Name ",(0,l.jsx)("b",{children:"*"})]})})]}),r]})}(),(0,l.jsx)(f.Z,{variant:"primary",type:"submit",children:a?"Update":"Submit"}),a&&(0,l.jsx)(f.Z,{variant:"secondary",type:"button",className:"ms-4",onClick:()=>{eZ(i,d).length>0?window.confirm("Do you confirm to discard changes?")&&m():m()},children:"Cancel"})]})]})};let ek="objectMaster",eL="fieldMaster";var eS=()=>{let e=(0,r.TH)(),t=e.pathname.includes("/updatemasterobject/object")?ek:eL,a=e.pathname.includes("updatemasterobject"),[n,i]=(0,y.useState)(t);return(0,l.jsxs)(C.Z,{id:"create-object-tab",activeKey:n,onSelect:e=>i(e),className:"mb-3",children:[(!a||t===ek)&&(0,l.jsx)(M.Z,{eventKey:ek,title:"Object Master",children:(0,l.jsx)(eO,{location:e})}),(!a||t===eL)&&(0,l.jsx)(M.Z,{eventKey:eL,title:"Field Master",children:(0,l.jsx)(ea,{location:e})})]})},eR=a(681),ew=a(7545);let eE=(0,c.oM)({name:"user",initialState:{name:"Test",email:"test@email.com",fieldsData:"",rulesData:"",objectMetaData:""},reducers:{nameChange:(e,t)=>{e.name=t.payload},emailChange:(e,t)=>{e.email=t.payload},fieldsDataChange:(e,t)=>{e.fieldsData=t.payload.fields},rulesDataChange:(e,t)=>{e.rulesData=t.payload.rules},objectMetaDataChange:(e,t)=>{e.objectMetaData=t.payload.objectMetaData}}}),{nameChange:eV,emailChange:eA,fieldsDataChange:eU,rulesDataChange:e$,objectMetaDataChange:eG}=eE.actions;var e_=eE.reducer;let eP=e=>[...e].sort((e,t)=>e.id-t.id);var eT=s(e=>{let{conditionData:t}=e,a=Y(t);return 0===a.length?(0,l.jsx)("p",{children:"No conditions"}):eP(a).map(e=>(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:["Value: ",(0,l.jsx)("b",{children:e.value})]}),(0,l.jsxs)("li",{children:["Short Description: ",(0,l.jsx)("b",{children:e.shortDescription})]}),(0,l.jsxs)("li",{children:["Long Description: ",(0,l.jsx)("b",{children:e.longDescription})]})]},e.id))}),eq=s(e=>{let{ruleList:t,isRowExpanded:a=!0}=e;return t?(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"title is-1",name:"show_rules",children:"Rules"}),(0,l.jsx)(eR.ZP,{highlightOnHover:!0,pointerOnHover:!0,pagination:!0,expandableRows:!0,columns:[{name:"Id",selector:e=>e.id,reorder:!0,width:"10%"},{name:"Short Description",selector:e=>e.shortDescription,reorder:!0,width:"20%"},{name:"Long Description",selector:e=>e.longDescription,reorder:!0,width:"30%",wrap:!0},{name:"Error Message",selector:e=>e.errorMessage,reorder:!0,wrap:!0}],data:t,expandableRowExpanded:()=>a,expandableRowsComponent:e=>{let{data:t}=e;return(0,l.jsx)(eT,{conditionData:J(t,"conditions",[])})}})]}):(0,l.jsx)(l.Fragment,{})}),eB=e=>{let{dataComeFrom:t,objectFieldsData:a}=e,n=(0,o.I0)();return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"title is-1",children:"Object Fields"}),(0,l.jsx)("div",{id:"object-fields-table",children:(0,l.jsx)(eR.ZP,{highlightOnHover:!0,pointerOnHover:!0,pagination:!0,columns:[{name:"Id",selector:e=>e.fieldMasterId,sortable:!0,reorder:!0},{name:"Object Name",selector:e=>e.fieldName,sortable:!0,reorder:!0},{name:"Field Master Name",selector:e=>e.fieldMasterName,sortable:!0,reorder:!0},{name:"Field Master Definition",selector:e=>e.fieldMasterDefinition,sortable:!0,reorder:!0},{name:"Action",sortable:!1,reorder:!1,cell:()=>(0,l.jsx)(f.Z,{variant:"info",size:"sm",onClick:()=>alert("This feature is temporarily unavailable."),children:"Edit"})}],data:a,expandableRows:!0,customStyles:{expanderRow:{style:{width:"90%",margin:"1.5rem auto"}}},expandableRowsComponent:e=>(0,l.jsx)(eq,{ruleList:J(e,"data.rules",[]),isRowExpanded:!1}),onRowClicked:e=>{n(e$(e)),"objectMaster"!==t&&(setIsRulesShown(!0),setRulesData(e))}})})]})};let eX=(e,t,a)=>e.filter(function(e){let l=J(e,t);return l&&l.toLowerCase().includes(a.toLowerCase())});var eH=e=>{let{dialectCode:t,filterText:a,inputPlaceHolder:n,onFilterTextChanged:i,onRefreshClicked:r,onDialectCodeChanged:s}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("select",{className:"mx-3 px-2 py-1","aria-label":"Dialect code",value:t,name:"select_dialectCode",onChange:s,children:Object.entries(K).map(e=>{let[t,a]=e;return(0,l.jsx)("option",{value:t,children:a},t)})}),(0,l.jsx)("input",{type:"text",placeholder:n,value:a,onChange:i}),(0,l.jsx)(f.Z,{size:"sm",className:"ms-3",onClick:r,children:"Refresh"})]})},ez=function(e){let[t,a]=(0,y.useState)([]),l=(0,el.aM)(eb.FetchObjectMasterList,{variables:{dialectCode:e}});return(0,y.useEffect)(()=>{l.error&&console.log("Error from GraphQL API: ",l.error.message),l.data&&a(l.data.FetchObjectMasterList)},[l]),[t,()=>l.refetch()]};let eK=function(e,t){let a=e.findIndex(e=>e.objectMasterId==t.objectMasterId);return e[a]={...t,isSelected:!0},e};var eQ=s(()=>{let e=(0,r.s0)(),[t,a]=(0,y.useState)(Q),[n,i]=(0,y.useState)([]),[s,d]=(0,y.useState)(null),[o,c]=(0,y.useState)(""),[u,m]=ez(t),[j,b]=(0,w.D)(eb.DeleteValidationObject),h=t=>()=>e("/updatemasterobject/object/".concat(t)),p=e=>{let t=e=>{let t=W(J(e,"data.DeleteValidationObject"),0),a=ef.isObject(t)?t.objectMasterId:0;a>0&&i(n.map(e=>(e.objectMasterId===a&&(e.objMasterInUseInd=!1),e)))};return async()=>{confirm("Are you sure you want to delete ".concat(e,"?"))&&t(await j({variables:{field:{objectLabelName:e}}}))}};(0,y.useEffect)(()=>{u&&i(u.map(function(e){return{objectMasterId:e.objectMasterId,objectName:e.objectName,objectLabelName:e.objectLabelName,objMasterInUseInd:e.objMasterInUseInd,isSelected:!1}}))},[u]),(0,y.useEffect)(()=>{b.error&&console.log("Error from GraphQL API: ",b.error.message),b.data&&console.log("Deletion successful",JSON.stringify(b.data))},[b]);let x=e=>{i(eK(n.map(function(e){return{...e,isSelected:!1}}),e))},I=function(e){let[t,a]=(0,ew.t)(eb.FetchObjectMetaDataByLabel);return(0,y.useEffect)(()=>{a.error&&console.log("Error from GraphQL API: ",a.error.message),a.data&&e(J(W(a.data.FetchObjectMetaDataByLabel,0),"fields",[]).map(function(e){return{enterpriseFieldInd:!0,fieldMasterId:e.fieldMasterId,fieldMasterName:e.fieldMasterName,fieldName:e.fieldName,fieldXrefId:e.fieldXrefId,fieldMasterDefinition:e.fieldMasterDefinition,rules:e.rules}}))},[a]),(e,a)=>{t({variables:{objectLabelName:e,dialectCode:a}})}}(d);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eH,{dialectCode:t,filterText:o,inputPlaceHolder:"Filter By Object Name",onRefreshClicked:m,onFilterTextChanged:e=>c(e.target.value),onDialectCodeChanged:e=>{c(""),a(e.target.value)}}),(0,l.jsx)(eR.ZP,{pagination:!0,highlightOnHover:!0,pointerOnHover:!0,selectableRowsSingle:!0,selectableRowsHighlight:!0,selectableRows:!1,checkbox:!1,columns:[{name:"Object Name",sortable:!0,reorder:!0,selector:e=>e.objectName},{name:"Object Label Name",sortable:!0,reorder:!0,cell:e=>(0,l.jsx)("span",{title:"Id: ".concat(e.objectMasterId),children:e.objectLabelName})},{name:"In Use",sortable:!0,reorder:!0,cell:e=>(0,l.jsx)("span",{children:e.objMasterInUseInd?"Yes":"No"})},{name:"Action",sortable:!1,reorder:!1,cell:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{variant:"info",size:"sm",className:"me-4",onClick:h(e.objectLabelName),children:"Edit"}),(0,l.jsx)(f.Z,{variant:"danger",size:"sm",onClick:p(e.objectLabelName),disabled:!1===e.objMasterInUseInd,children:"Delete"})]})}],data:eX(n,"objectName",o),selectableRowSelected:e=>e.isSelected,onRowClicked:e=>{I(e.objectLabelName,t),x(e)}}),s&&(0,l.jsx)(eB,{dataComeFrom:ek,objectFieldsData:s})]})}),eW=s(()=>{let[e,t]=(0,y.useState)([]),[a,n]=(0,y.useState)(Q),i=(0,r.s0)(),{error:s,loading:d,data:o,refetch:c}=(0,el.aM)(ep,{variables:{dialectCode:a}}),[u,m]=(0,y.useState)(""),j=e=>{i("/updatemasterobject/field",{state:{updateFieldData:{...e,dialectCode:a}}})},b=o?eX(o.FetchFieldMetaData,"fieldName",u):[];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eH,{dialectCode:a,filterText:u,inputPlaceHolder:"Filter By Field Master Name",onRefreshClicked:()=>c(),onFilterTextChanged:e=>m(e.target.value),onDialectCodeChanged:e=>{m(""),n(e.target.value)}}),d?(0,l.jsx)("p",{children:"Loading data..."}):o&&(0,l.jsx)(eR.ZP,{columns:[{name:"Field Master Id",selector:e=>e.fieldMasterId,sortable:!0,reorder:!0},{name:"Field Master Name",selector:e=>e.fieldName,sortable:!0,reorder:!0},{name:"Field Master Definition",selector:e=>e.fieldDefinition,sortable:!0,reorder:!0},{name:"Action",cell:e=>(0,l.jsx)(f.Z,{variant:"info",size:"sm",onClick:()=>j(e),children:"Edit"}),sortable:!1,reorder:!1}],data:b,onRowClicked:e=>{t(Y(e.rules))},selectableRows:!0,selectableRowsSingle:!0,selectableRowSelected:e=>e.isSelected,selectableRowsHighlight:!0,pagination:!0,highlightOnHover:!0,pointerOnHover:!0}),s&&(0,l.jsxs)("p",{children:["Error data:",s]}),e.length>0?(0,l.jsx)(eq,{ruleList:e}):(0,l.jsx)("h4",{className:"title is-1",children:"No Rules"})]})}),eJ=e=>{let{tabKey:t="viewObjectMaster"}=e;console.log(t);let a=(0,r.TH)(),[n,i]=(0,y.useState)(t);return(0,y.useEffect)(()=>{var e;(null===(e=a.state)||void 0===e?void 0:e.tabKey)&&i(a.state.tabKey)},[a]),(0,l.jsxs)(C.Z,{id:"view-object-tab",activeKey:n,onSelect:e=>i(e),className:"mb-3",children:[(0,l.jsx)(M.Z,{eventKey:"viewObjectMaster",title:"Object Master",children:(0,l.jsx)(eQ,{location:a})}),(0,l.jsx)(M.Z,{eventKey:"viewFieldMaster",title:"Field Master",children:(0,l.jsx)(eW,{location:a})})]})};function eY(){let e=(0,_._)(["\nquery MyQuery($batch: Batch!) {\n    ValidateRecords(batch: $batch) {\n        batchId\n        failedCount\n        receivedCount\n        records {\n            fields {\n                errorMessage\n                name\n                status\n            }\n            recordId\n            status\n        }\n        skippedCount\n        status\n        successCount\n  }\n}\n"]);return eY=function(){return e},e}let e0=(0,P.Ps)(eY());var e1=a(7185),e3=e=>{var t,a;let{deleteRow:n,id:i,item:r,fieldNameList:s,onChange:d}=e,[o,c]=(0,y.useState)(null!=r?r:[]),u=e=>{let{name:t,value:a}=e.target,l={...o,[t]:a};c(l),d(i,l)};return(0,l.jsx)("div",{className:"row-object-field",children:(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"fieldName",children:(0,l.jsxs)(Z.Z.Select,{"aria-label":"fieldName",name:"fieldName",value:null!==(t=o.fieldName)&&void 0!==t?t:"",onChange:u,required:!0,children:[(0,l.jsx)("option",{}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"fieldValue",children:(0,l.jsx)(Z.Z.Control,{type:"text",placeholder:"",name:"fieldValue",value:null!==(a=o.fieldValue)&&void 0!==a?a:"",onChange:u})}),(0,l.jsx)(Z.Z.Group,{as:D.Z,className:"mb-3 col-3",controlId:"",children:(0,l.jsx)(f.Z,{className:"mb-3 delete-object-field",variant:"danger",size:"sm",onClick:e=>n(i),children:"Delete"})})]},i)})},e2=e=>{var t,a;let{id:n,item:i,onChange:r,fieldNameList:s,onDelete:d}=e,[o,c]=(0,y.useState)(null!=i?i:{}),[u,m]=(0,y.useState)(null!==(t=null==i?void 0:i.fields)&&void 0!==t?t:[]),j=e=>{let{name:t,value:a}=e.target,l={...o,[t]:a};c(l),r(n,l)},b=e=>{m(e),j({target:{name:"fields",value:e}})},h=(e,t)=>{let a=[...u];a[e]=t,b(a)},p=e=>{let t=[...u];t.splice(e-1,1),b(t)};return(0,l.jsx)(e1.Z,{className:"mb-3",children:(0,l.jsxs)(e1.Z.Body,{children:[(0,l.jsx)(R.Z,{children:(0,l.jsxs)(Z.Z.Group,{className:"mb-3 col-12 d-flex align-items-center",as:D.Z,controlId:"recordId",children:[(0,l.jsx)(Z.Z.Label,{className:"w-15 me-3",children:"Record ID"}),(0,l.jsx)(Z.Z.Control,{type:"text",placeholder:"",className:"w-25",name:"recordId",defaultValue:null!==(a=o.recordId)&&void 0!==a?a:"",required:!0,disabled:!0}),(0,l.jsx)(f.Z,{variant:"danger",size:"sm",onClick:()=>d(n),className:"ms-auto delete-object-record col-1",children:"Delete"})]})}),(0,l.jsxs)(R.Z,{className:"mb-3",children:[(0,l.jsx)(D.Z,{xs:3,children:(0,l.jsx)(Z.Z.Group,{controlId:"objectFieldName",children:(0,l.jsx)(Z.Z.Label,{children:"Field Name"})})}),(0,l.jsx)(D.Z,{xs:3,children:(0,l.jsx)(Z.Z.Group,{controlId:"fieldMasterName",children:(0,l.jsx)(Z.Z.Label,{children:"Value"})})}),(0,l.jsx)(D.Z,{xs:6,className:"d-flex align-items-end",children:(0,l.jsx)(f.Z,{variant:"info",size:"sm",onClick:e=>{b([...u,{}])},children:"Add Field"})})]}),u&&u.map((e,t)=>(0,l.jsx)(e3,{id:t,deleteRow:p,onChange:h,fieldNameList:s,item:e},t))]})})};a(2735);var e5=e=>{let{show:t,handleClose:a,error:n,modalData:i}=e;return t?(0,l.jsx)("div",{className:"overlay",onClick:e=>{"overlay"===e.target.className&&a()},children:(0,l.jsxs)("div",{className:"alert-popup",variant:"info",onClose:a,dismissible:"true",children:[n&&(0,l.jsxs)("p",{children:["Error: ",n.message]}),i&&(0,l.jsx)("pre",{children:i}),(0,l.jsx)("div",{className:"d-flex justify-content-end",children:(0,l.jsx)(f.Z,{onClick:a,variant:"outline-primary",children:"Confirm"})})]})}):(0,l.jsx)(l.Fragment,{})},e4=s(()=>{let[e,t]=(0,y.useState)(""),[a,n]=(0,y.useState)(10),[i,r]=(0,y.useState)([{recordId:10,fields:[{}]}]),[s,d]=(0,y.useState)([]),[o,c]=(0,y.useState)([]),[u,m]=(0,y.useState)(!1),[j,b]=(0,y.useState)(""),[h,{called:p,loading:x,data:I,error:N}]=(0,ew.t)(e0),v=(0,el.aM)(eb.FetchObjectMasterList,{variables:{dialectCode:Q}}),[g,{data:M,loading:C,error:F}]=(0,ew.t)(eb.FetchObjectMetaDataByLabel);(0,y.useEffect)(()=>{v.error&&console.error(v.error),v.data&&d(v.data.FetchObjectMasterList)},[v]),(0,y.useEffect)(()=>{F&&(console.error(F),c([])),M&&c(J(M,"FetchObjectMetaDataByLabel.0.fields",[]).map(e=>e.fieldName))},[M,F,C]),(0,y.useEffect)(()=>{s.some(t=>t.objectName===e)?(async e=>{await g({variables:{objectLabelName:e,dialectCode:Q}})})(e):c([])},[e]),(0,y.useEffect)(()=>{I&&b(JSON.stringify(I,null,2).split("\n").filter(e=>!e.includes('"__typename":')).join("\n")),N&&b(JSON.stringify(N,null,2).split("\n").filter(e=>!e.includes('"__typename":')).join("\n"))},[p,x,I,N]);let O=()=>m(!0),k=(e,t)=>{let a=[...i];a[e]=t,r(a)},L=e=>{let t=[...i];t.splice(e-1,1),r(t)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(Z.Z,{onSubmit:t=>{t.preventDefault();let a={batchId:(0,ev.Z)(),objectName:e};if(i.length>0){let e=i.map(e=>({recordId:e.recordId,fields:e.fields}));a.objectRecords=e}console.log(a),h({variables:{batch:a}}),O()},children:[(0,l.jsxs)(Z.Z.Group,{as:D.Z,className:"mb-3 col-10",children:[(0,l.jsx)(Z.Z.Label,{children:"Object Name"}),(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(D.Z,{xs:"2",className:"pe-0",children:(0,l.jsx)(Z.Z.Control,{type:"text",defaultValue:"us_en"})}),(0,l.jsx)(D.Z,{className:"pe-0 object-name",children:(0,l.jsx)(Z.Z.Control,{className:"input-object-name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})}),(0,l.jsx)(D.Z,{className:"ps-0",children:(0,l.jsx)(eN,{optionList:s.map(e=>({key:e.objectMasterId,value:e.objectName})),onDropDownItemClick:e=>t(e.value)})})]})]}),(0,l.jsxs)(R.Z,{className:"mb-3",children:[(0,l.jsx)(D.Z,{xs:"2",children:(0,l.jsx)(Z.Z.Group,{controlId:"batchId",children:(0,l.jsx)(Z.Z.Label,{children:"Object Records"})})}),(0,l.jsx)(D.Z,{xs:"10",className:"d-flex align-items-end",children:(0,l.jsx)(f.Z,{variant:"info",size:"sm",onClick:e=>{let t=[...i,{recordId:a+1,fields:[{}]}];n(a+1),r(t)},children:"Add Record"})})]}),i&&Array.isArray(i)&&i.map((e,t)=>(0,l.jsx)(e2,{id:t,item:e,fieldNameList:o,onChange:k,onDelete:L},t)),(0,l.jsx)(f.Z,{className:"mb-3",variant:"info",size:"sm",type:"submit",children:"Validate"})]}),(0,l.jsx)(e5,{show:u,handleClose:()=>m(!1),error:N,modalData:j})]})}),e8=(0,c.xC)({reducer:{counter:b,user:e_}});a(4935);class e6 extends y.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t)}render(){return this.state.hasError?(0,l.jsx)("h1",{children:"Something went wrong."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}var e7=a(163),e9=a(3128),te=a(6246),tt=a(1287),ta=a(280);let tl=(0,a(7736).q)(e=>{let{graphqlErrors:t,newworkError:a}=e;t&&t.map((e,t,a)=>{alert("Graphql error ".concat(e))})}),tn=(0,e7.D)([tl,new e9.u({uri:"https://4wx5b547dnen5gb5mce4tzfq3q.appsync-api.us-east-1.amazonaws.com/graphql?x-api-key=da2-67o2rwbpvjazhfprabeu7bshji",headers:{"x-api-key":"da2-67o2rwbpvjazhfprabeu7bshji"}})]),ti=new te.f({cache:new tt.h,link:tn});function tr(){let[e,t]=(0,y.useState)(!1);(0,y.useEffect)(()=>{t(!0)},[]);let a=(0,l.jsx)(p.VK,{children:(0,l.jsx)(o.zt,{store:e8,children:(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)(v,{}),(0,l.jsx)("div",{className:"container mt-2",style:{marginTop:"40px"},children:(0,l.jsxs)(r.Z5,{children:[(0,l.jsx)(r.AW,{path:"/",element:(0,l.jsx)(eJ,{})}),(0,l.jsx)(r.AW,{path:"about",element:(0,l.jsx)(d,{})}),(0,l.jsx)(r.AW,{path:"counter",element:(0,l.jsx)(h,{})}),(0,l.jsx)(r.AW,{path:"profile/:name",element:(0,l.jsx)(g,{})}),(0,l.jsx)(r.AW,{path:"createmasterobject",element:(0,l.jsx)(eS,{})}),(0,l.jsx)(r.AW,{path:"updatemasterobject/object/:objLabelName",element:(0,l.jsx)(eS,{})}),(0,l.jsx)(r.AW,{path:"updatemasterobject/field",element:(0,l.jsx)(eS,{})}),(0,l.jsx)(r.AW,{path:"validateRecords",element:(0,l.jsx)(e4,{})})]})}),(0,l.jsx)("footer",{className:"container bg-light py-4 text-muted mt-3 mb-0 text-center",children:"Validation Framework"})]})})});return(0,l.jsx)("main",{className:i().main,children:(0,l.jsx)("div",{className:i().description,children:(0,l.jsx)(e6,{children:(0,l.jsx)(ta.e,{client:ti,children:e?a:null})})})})}},2735:function(){},4935:function(){},8518:function(e){e.exports={"disabled-checkbox":"page_disabled-checkbox__07iPq"}}},function(e){e.O(0,[962,513,252,529,971,23,744],function(){return e(e.s=8047)}),_N_E=e.O()}]);